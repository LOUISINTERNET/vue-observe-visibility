var VueObserveVisibility=function(e){"use strict";function i(e){if(null!==e&&"function"!=typeof e)throw new Error("observe-visibility directive expects a function as the value")}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";return(e.indexOf(",")>-1?e.split(","):[e]).map(function(e){return n(e)})}function n(e){if((e=parseInt(e))>100||e<0)throw new Error("threshold must be beween 0 and 100, or omitted");return isNaN(e)?0:e/100}function r(e){e.directive("observe-visibility",l)}var l={bind:function(e,n,r){var l=n.value,s=n.arg;if("undefined"==typeof IntersectionObserver)console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/WICG/IntersectionObserver/tree/gh-pages/polyfill");else{i(l),e._vue_visibilityCallback=l;var o=t(s),u=e._vue_intersectionObserver=new IntersectionObserver(function(i){var t=i[0];e._vue_visibilityCallback&&e._vue_visibilityCallback.call(null,t.intersectionRatio>o[0],t)},{threshold:o});r.context.$nextTick(function(){u.observe(e)})}},update:function(e,t){var n=t.value;i(n),e._vue_visibilityCallback=n},unbind:function(e){e._vue_intersectionObserver&&(e._vue_intersectionObserver.disconnect(),delete e._vue_intersectionObserver,delete e._vue_visibilityCallback)}},s={version:"0.3.1",install:r},o=null;return"undefined"!=typeof window?o=window.Vue:"undefined"!=typeof global&&(o=global.Vue),o&&o.use(s),e.install=r,e.ObserveVisibility=l,e.default=s,e}({});
